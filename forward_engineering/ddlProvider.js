"use strict";var xe=Object.defineProperty;var T=(t,n)=>xe(t,"name",{value:n,configurable:!0});var F=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var z=F((nt,G)=>{"use strict";G.exports={number:"BIGNUMERIC",string:"STRING",date:"DATE",timestamp:"TIMESTAMP",binary:"BYTES",boolean:"BOOL",document:"STRUCT",array:"ARRAY",objectId:"STRING",default:"STRING"}});var D=F((it,H)=>{"use strict";H.exports={ARRAY:{mode:"array"},BIGNUMERIC:{capacity:16,mode:"decimal"},BOOL:{mode:"boolean"},BYTES:{mode:"binary"},DATE:{format:"YYYY-MM-DD"},DATETIME:{format:"YYYY-MM-DD hh:mm:ss"},FLOAT64:{capacity:8,mode:"floating"},GEOGRAPHY:{format:"euclidian",mode:"geospatial"},INT64:{capacity:8},NUMERIC:{capacity:8,mode:"decimal"},STRING:{mode:"varying"},STRUCT:{mode:"object"},TIME:{format:"hh:mm:ss.nnnnnn"},TIMESTAMP:{format:"YYYY-MM-DD hh:mm:ss.nnnnnnZ"},JSON:{format:"semi-structured"}}});var Z=F((rt,Q)=>{"use strict";Q.exports={createDatabase:"CREATE SCHEMA${ifNotExist} ${name}${dbOptions};\n",createTable:"CREATE ${orReplace}${temporary}${external}TABLE ${ifNotExist}${name} ${column_definitions}${partitions}${clustering}${options};\n",columnDefinition:"${name}${type}${primaryKey}${notNull}${options}",createForeignKeyConstraint:"${constraintName}FOREIGN KEY (${foreignKeys}) REFERENCES ${primaryTableName}(${primaryKeys}) NOT ENFORCED",createView:"CREATE ${orReplace}${materialized}VIEW ${ifNotExist}${name}${columns}${partitions}${clustering}${options} AS ${selectStatement};\n",dropDatabase:"DROP SCHEMA IF EXISTS ${name};",alterDatabase:"ALTER SCHEMA IF EXISTS ${name} SET ${dbOptions};",dropTable:"DROP TABLE IF EXISTS ${name};",alterTable:"ALTER TABLE IF EXISTS ${name} SET ${options};",alterColumnOptions:'ALTER TABLE IF EXISTS ${tableName} ALTER COLUMN IF EXISTS ${columnName} SET OPTIONS( description="${description}" );',alterColumnType:"ALTER TABLE IF EXISTS ${tableName} ALTER COLUMN IF EXISTS ${columnName} SET DATA TYPE ${type};",alterColumnDropNotNull:"ALTER TABLE IF EXISTS ${tableName} ALTER COLUMN IF EXISTS ${columnName} DROP NOT NULL;",alterTableAddColumn:"ALTER TABLE ${tableName} ADD COLUMN IF NOT EXISTS ${column};",alterTableDropColumn:"ALTER TABLE ${tableName} DROP COLUMN IF EXISTS ${columnName};",dropView:"DROP VIEW IF EXISTS ${name};",alterViewOptions:"ALTER ${materialized}VIEW ${name} SET ${options};"}});var q=F((at,W)=>{"use strict";var U=T((t="")=>t.replace(/(")/gi,"\\$1").replace(/\n/gi,"\\n"),"escapeQuotes"),P=T((t="")=>`\`${t}\``,"wrapByBackticks"),Me=T(t=>t?`TIMESTAMP_TRUNC(_PARTITIONTIME, ${{"By day":"DAY","By hour":"HOUR","By month":"MONTH","By year":"YEAR"}[t]||"DAY"})`:"_PARTITIONDATE","getPartitioningByIngestionTime"),ve=T((t={})=>{var u,d;let n=(d=(u=t.rangePartitionKey)==null?void 0:u[0])==null?void 0:d.name,r=Number(t.rangeStart),l=Number(t.rangeEnd),m=Number(t.rangeinterval);return n?`RANGE_BUCKET(${n}, GENERATE_ARRAY(${r}, ${l}${isNaN(m)?"":`, ${m}`}))`:""},"getPartitioningByIntegerRange"),Pe=T(({partitioning:t,timeUnitPartitionKey:n,rangeOptions:r})=>{var l,m,u,d;return t==="By time-unit column"?(l=n==null?void 0:n[0])==null?void 0:l.isActivated:t==="By integer-range"?(d=(u=(m=r==null?void 0:r[0])==null?void 0:m.rangePartitionKey)==null?void 0:u[0])==null?void 0:d.isActivated:!0},"isActivatedPartition"),Fe=T(({partitioning:t,partitioningType:n,timeUnitPartitionKey:r,rangeOptions:l})=>{var u;let m=(u=r==null?void 0:r[0])==null?void 0:u.name;if(t==="No partitioning")return"";if(t==="By ingestion time")return"PARTITION BY "+Me(n);if(t==="By time-unit column"&&m)return`PARTITION BY DATE(${P(m)})`;if(t==="By integer-range"){let d=ve(l==null?void 0:l[0]);return d?"PARTITION BY "+d:""}return""},"getTablePartitioning"),je=T((t,n)=>{if(!Array.isArray(t)||t.length===0)return"";let r=t.filter(m=>m.isActivated).map(m=>P(m.name)).join(", "),l=t.filter(m=>!m.isActivated).map(m=>P(m.name)).join(", ");return n?r.length===0?`
-- CLUSTER BY `+l:l.length===0?`
CLUSTER BY `+r:`
CLUSTER BY `+r+" /*"+l+"*/":`
CLUSTER BY `+t.map(m=>P(m.name)).join(", ")},"getClusteringKey"),Ye=T((t,n)=>({expiration:r,partitioningFilterRequired:l,partitioning:m,customerEncryptionKey:u,description:d,labels:c,friendlyName:y,externalTableOptions:C})=>{let f=[];if(y&&f.push(`friendly_name="${y}"`),d&&f.push(`description="${U(d)}"`),r&&f.push(`expiration_timestamp=TIMESTAMP "${J(r)}"`),m==="By ingestion time"&&l&&f.push("require_partition_filter=true"),u&&f.push(`kms_key_name="${u}"`),Array.isArray(c)&&c.length&&f.push(`labels=[
${t(n(c))}
]`),C){let v=["format","bigtableUri","quote","null_marker","field_delimiter","encoding","compression","sheet_range","reference_file_schema_uri","hive_partition_uri_prefix","projection_fields","json_extension"];Object.entries(C).forEach(([s,o])=>{v.includes(s)&&(o=`"${U(o)}"`),typeof o=="boolean"&&(o=o===!0?"true":"false"),Array.isArray(o)&&(o=`[
`+o.map(E=>t(`"${E}"`)).join(`,
`)+`
]`),f.push(`${s}=${o}`)})}return f.length?`
OPTIONS (
${t(f.join(`,
`))}
)`:""},"getTableOptions"),J=T(t=>{let n=T(C=>(C+"").padStart(2,"0"),"fill"),r=new Date(Number(t)),l=n(r.getUTCDate()),m=n(r.getUTCMonth()+1),u=r.getUTCFullYear(),d=n(r.getUTCHours()),c=n(r.getUTCMinutes()),y=n(r.getUTCSeconds());return`${u}-${m}-${l} ${d}:${c}:${y} UTC`},"getTimestamp"),Ue=T(t=>n=>(Array.isArray(n)||(n=[n]),n.map(r=>K(t)({type:r.type,description:r.description,dataTypeMode:r.dataTypeMode,jsonSchema:r},!0))),"convertItemsToType"),Ke=T(t=>n=>Object.keys(n).map(r=>{let l=n[r];return K(t)({name:r,type:l.type,description:l.description,dataTypeMode:l.dataTypeMode,jsonSchema:l})}),"convertPropertiesToType"),qe=T((t,n)=>{let r=[];return["bignumeric","numeric"].includes((t||"").toLowerCase())&&(n.precision&&r.push(n.precision),n.scale&&r.push(n.scale)),["string","bytes"].includes((t||"").toLowerCase())&&n.length&&r.push(n.length),r.length?`(${r.join(", ")})`:""},"addParameters"),K=T(t=>({type:n,description:r,dataTypeMode:l,name:m,jsonSchema:u},d)=>{let{assignTemplates:c,tab:y,templates:C}=t,f=n,v=u.primaryKey&&!u.compositePrimaryKey?" PRIMARY KEY NOT ENFORCED":"",s="",o="";if(n==="array")f=` ARRAY<
${y(Ue(t)(u.items).join(`,
`))}
>`;else if(l==="Repeated"){let{dataTypeMode:E,..._}=u;f=K(t)({type:"array",description:r,jsonSchema:{items:[_]}})}else n==="struct"?f=` STRUCT<
${y(Ke(t)(u.properties||{}).join(`,
`))}
>`:f=(" "+n).toUpperCase()+qe(n,u);return r&&(s+=` OPTIONS( description="${U(r)}" )`),l==="Required"&&!d&&(o=" NOT NULL"),c(C.columnDefinition,{name:m&&P(m),type:f,primaryKey:v,notNull:o,options:s})},"getColumnSchema"),ke=T((t,n)=>({columns:r,projectId:l,datasetName:m})=>{let u=r.reduce((d,c)=>{let y=P(c.name);return c.alias&&(y=`${y} as ${c.alias}`),d[c.tableName]||(d[c.tableName]={activated:[],deactivated:[]}),n&&!c.isActivated?d[c.tableName].deactivated.push(y):d[c.tableName].activated.push(y),d},{});return Object.keys(u).map(d=>{let{deactivated:c,activated:y}=u[d];return`SELECT ${y.join(", ")+(c.length?`/*, ${c.join(", ")}*/`:"")||"*"} FROM ${t(l,m,d)}`}).join(`
UNION ALL
`)},"generateViewSelectStatement"),Ve=T(t=>t.filter(n=>!!n),"clearEmptyStatements"),Xe=T(t=>{let n=/[^A-Za-z0-9_]/g,r=/^[0-9]/;return(t||"").replace(n,"_").replace(r,"_")},"prepareConstraintName");W.exports={isActivatedPartition:Pe,getTablePartitioning:Fe,getClusteringKey:je,getTableOptions:Ye,getColumnSchema:K,generateViewSelectStatement:ke,getTimestamp:J,escapeQuotes:U,clearEmptyStatements:Ve,prepareConstraintName:Xe,wrapByBackticks:P}});var te=F((ot,ee)=>{"use strict";var{escapeQuotes:w,getTimestamp:Ge,wrapByBackticks:k}=q();ee.exports=t=>{let n=t.require("lodash"),{commentIfDeactivated:r,tab:l}=t.require("@hackolade/ddl-fe-utils").general,m=T((s,o,E)=>{let _=[];return s&&_.push(s),o&&_.push(o),E&&_.push(E),"`"+_.join(".")+"`"},"getFullName"),u=T(s=>s.map(({labelKey:o,labelValue:E})=>`("${o}", "${E}")`).join(`,
`),"getLabels"),d=T(({friendlyName:s,description:o,defaultExpiration:E,customerEncryptionKey:_,labels:S})=>{let e=[];return s&&e.push(`friendly_name="${s}"`),o&&e.push(`description="${w(o)}"`),_&&e.push(`default_kms_key_name="${_}"`),E&&e.push(`default_table_expiration_days=${E}`),S.length&&e.push(`labels=[
${l(u(S))}
]`),e.length?`
OPTIONS(
${l(e.join(`,
`))}
)`:""},"getContainerOptions"),c=T(s=>{if(!s.materialized)return[];let o=[];return s.enableRefresh&&(o.push("enable_refresh=true"),s.refreshInterval&&o.push(`refresh_interval_minutes=${s.refreshInterval}`)),s.maxStaleness&&o.push(`max_staleness=${s.maxStaleness}`),s.allowNonIncrementalDefinition&&o.push(`allow_non_incremental_definition=${s.allowNonIncrementalDefinition}`),o},"getMaterializedViewOptions");return{getLabels:u,getFullName:m,getContainerOptions:d,getViewOptions:T(s=>{let o=[];return s.friendlyName&&o.push(`friendly_name="${s.friendlyName}"`),s.description&&o.push(`description="${w(s.description)}"`),s.expiration&&o.push(`expiration_timestamp=TIMESTAMP "${Ge(s.expiration)}"`),Array.isArray(s.labels)&&s.labels.length&&o.push(`labels=[
${l(u(s.labels))}
]`),o=[...o,...c(s)],o.length?`
 OPTIONS(
${l(o.join(`,
`))}
)`:""},"getViewOptions"),cleanObject:T(s=>Object.entries(s).filter(([o,E])=>E).reduce((o,[E,_])=>({...o,[E]:_}),{}),"cleanObject"),foreignKeysToString:T(s=>{if(Array.isArray(s)){let o=s.filter(S=>n.get(S,"isActivated",!0)).map(S=>k(S.name.trim())),E=s.filter(S=>!n.get(S,"isActivated",!0)).map(S=>k(S.name.trim())),_=E.length?r(E,{isActivated:!1},!0):"";return o.join(", ")+_}return s},"foreignKeysToString"),foreignActiveKeysToString:T(s=>s.map(o=>k(o.name.trim())).join(", "),"foreignActiveKeysToString")}}});var ie=F((ct,ne)=>{"use strict";var ze=T(({index:t,amountOfStatements:n,lastIndexOfActivatedStatement:r,delimiter:l,delimiterForLastActivatedStatement:m})=>t===n-1?"":r===-1?l:t===r?m:l,"getDelimiterForJoiningStatementsBasedOnActivation"),He=T(({statementDtos:t})=>{for(let n=t.length-1;n>=0;n--)if((t[n]||{}).isActivated)return n;return-1},"getLastIndexOfActivatedStatement"),De=T(({statementDtos:t,delimiter:n=`,
`,delimiterForLastActivatedStatement:r=`
`})=>{let l=He({statementDtos:t});return t.map((m,u)=>{let{statement:d}=m,c=ze({index:u,amountOfStatements:t.length,lastIndexOfActivatedStatement:l,delimiter:n,delimiterForLastActivatedStatement:r});return d+c}).join("")},"joinActivatedAndDeactivatedStatements");ne.exports={joinActivatedAndDeactivatedStatements:De}});var Qe=z(),re=D(),N=Z(),{isActivatedPartition:ae,getTablePartitioning:se,getClusteringKey:oe,getTableOptions:le,getColumnSchema:ce,generateViewSelectStatement:Ze,escapeQuotes:Je,clearEmptyStatements:pt,prepareConstraintName:We,wrapByBackticks:B}=q();module.exports=(t,n,r)=>{let{tab:l,commentIfDeactivated:m,hasType:u,checkAllKeysDeactivated:d}=r.require("@hackolade/ddl-fe-utils").general;r.require("@hackolade/ddl-fe-utils").general;let c=r.require("@hackolade/ddl-fe-utils").assignTemplates,y=r.require("lodash"),{getLabels:C,getFullName:f,getContainerOptions:v,getViewOptions:s,cleanObject:o,foreignKeysToString:E,foreignActiveKeysToString:_}=te()(r),{joinActivatedAndDeactivatedStatements:S}=ie();return{createDatabase({databaseName:e,friendlyName:a,description:i,ifNotExist:p,projectId:g,defaultExpiration:A,customerEncryptionKey:b,labels:R}){return c(N.createDatabase,{name:f(g,e),ifNotExist:p?" IF NOT EXISTS":"",dbOptions:v({friendlyName:a,description:i,defaultExpiration:A,customerEncryptionKey:b,labels:R})})},createTable({name:e,columns:a,dbData:i,description:p,orReplace:g,ifNotExist:A,partitioning:b,partitioningType:R,timeUnitPartitionKey:I,partitioningFilterRequired:x,rangeOptions:$,temporary:h,expiration:M,tableType:L,clusteringKey:me,customerEncryptionKey:pe,labels:ue,friendlyName:de,externalTableOptions:Y,foreignKeyConstraints:Te,primaryKey:fe},ye){let Ae=f(i.projectId,i.databaseName,e),Ee=g?"OR REPLACE ":"",ge=h?"TEMPORARY ":"",Ne=A?"IF NOT EXISTS ":"",_e=ae({partitioning:b,timeUnitPartitionKey:I,rangeOptions:$}),be=se({partitioning:b,partitioningType:R,timeUnitPartitionKey:I,rangeOptions:$}),Ie=oe(me,ye),j=L==="External",$e=le(l,C)({externalTableOptions:j?y.omit(Y,"autodetect"):null,partitioningFilterRequired:j?!1:x,customerEncryptionKey:pe,partitioning:b,friendlyName:de,description:p,expiration:M,labels:ue}),Se=j?"EXTERNAL ":"",Re=(a||[]).map(O=>({statement:O.column,isActivated:O.isActivated})),V=m(be,{isActivated:_e}),X=fe.flatMap(O=>O==null?void 0:O.compositePrimaryKey.map(Be=>B(Be.name))),he={statement:X.length?`PRIMARY KEY (${X.join(", ")}) NOT ENFORCED`:"",isActivated:!0},Oe=(Te||[]).map(O=>({statement:m(O.statement,{isActivated:O.isActivated}),isActivated:O.isActivated})),Ce=[...Re,he,...Oe].filter(O=>!!O.statement),Le=S({statementDtos:Ce,delimiter:`,
`,delimiterForLastActivatedStatement:`
`});return c(N.createTable,{name:Ae,column_definitions:Y!=null&&Y.autodetect?"":`(
`+l(Le)+`
)`,orReplace:Ee,temporary:ge,ifNotExist:Ne,partitions:V&&!j?`
`+V:"",clustering:j?"":Ie,external:Se,options:$e})},convertColumnDefinition(e){return{column:m(ce({assignTemplates:c,tab:l,templates:N})(e),{isActivated:e.isActivated}),isActivated:e.isActivated}},createView(e,a,i){let p=f(a.projectId,a.databaseName,e.name),g="",A=e.keys.length&&e.keys.every(h=>!h.isActivated);if(!e.materialized)if(i&&!A){let h=e.keys.filter(L=>L.isActivated).map(L=>L.alias||L.name).filter(Boolean).map(B),M=e.keys.filter(L=>!L.isActivated).map(L=>L.alias||L.name).filter(Boolean).map(B);g=h.join(", ")+(M.length?`/* ${M.join(", ")} */`:"")}else g=e.keys.map(h=>B(h.alias||h.name)).filter(Boolean).join(", ");let b=ae({partitioning:e.partitioning,timeUnitPartitionKey:e.partitioningType,rangeOptions:e.rangeOptions}),R=se({partitioning:e.partitioning,partitioningType:e.partitioningType,timeUnitPartitionKey:e.timeUnitPartitionKey,rangeOptions:e.rangeOptions}),I=oe(e.clusteringKey,i),x=m(R,{isActivated:b}),$=c(N.createView,{name:p,materialized:e.materialized?"MATERIALIZED ":"",orReplace:e.orReplace&&!e.materialized?"OR REPLACE ":"",ifNotExist:e.ifNotExist?"IF NOT EXISTS ":"",columns:g.length?`
 (${g})`:"",selectStatement:`
 ${y.trim(e.selectStatement?e.selectStatement:Ze(f,i&&!A)({columns:e.keys,datasetName:a.databaseName,projectId:a.projectId}))}`,options:s(e),partitions:x?`
`+x:"",clustering:I});return i&&A?m($,{isActivated:!1}):$},createForeignKeyConstraint({name:e,isActivated:a,foreignKey:i,primaryTable:p,primaryKey:g,primaryTableActivated:A,foreignTableActivated:b,primarySchemaName:R},I,x){let $=d(g),h=d(i),M=a&&!$&&!h&&A&&b;return{statement:c(N.createForeignKeyConstraint,{constraintName:e?`CONSTRAINT ${We(e)} `:"",foreignKeys:M?E(i):_(i),primaryTableName:f(null,R,p),primaryKeys:M?E(g):_(g)}),isActivated:M}},getDefaultType(e){return Qe[e]},getTypesDescriptors(){return re},hasType(e){return u(re,e)},hydrateColumn({columnDefinition:e,jsonSchema:a,dbData:i}){return{name:e.name,type:e.type,isActivated:e.isActivated,description:a.refDescription||a.description,dataTypeMode:a.dataTypeMode,jsonSchema:a}},hydrateDatabase(e,a){var p;let i=a==null?void 0:a.modelData;return{databaseName:e.name,friendlyName:e.businessName,description:e.description,isActivated:e.isActivated,ifNotExist:e.ifNotExist,projectId:(p=i==null?void 0:i[0])==null?void 0:p.projectID,defaultExpiration:e.enableTableExpiration?e.defaultExpiration:"",customerEncryptionKey:e.encryption==="Customer-managed"?e.customerEncryptionKey:"",labels:Array.isArray(e.labels)?e.labels:[]}},hydrateTable({tableData:e,entityData:a,jsonSchema:i}){var x;let p=a[0],g=((x=a[1])==null?void 0:x.primaryKey)??[],A=p.tableOptions||{},b=(A.uris||[]).map($=>$.uri).filter(Boolean),R=(A.decimal_target_types||[]).map(({value:$})=>$),I={format:A.format,uris:y.isEmpty(b)?void 0:b,decimal_target_types:y.isEmpty(R)?void 0:R,autodetect:A.autodetect};return{...e,name:p.code||p.collectionName,friendlyName:i.title&&i.title!==p.collectionName?i.title:"",description:p.description,orReplace:p.orReplace,ifNotExist:p.ifNotExist,partitioning:p.partitioning,partitioningType:p.partitioningType,timeUnitPartitionKey:p.timeUnitpartitionKey,partitioningFilterRequired:p.partitioningFilterRequired,rangeOptions:p.rangeOptions,temporary:p.temporary,expiration:p.expiration,tableType:p.tableType,clusteringKey:p.clusteringKey,customerEncryptionKey:p.encryption?p.customerEncryptionKey:"",labels:p.labels,primaryKey:g,externalTableOptions:o({AVRO:{...I,...y.pick(A,["require_hive_partition_filter","hive_partition_uri_prefix","reference_file_schema_uri","enable_logical_types"])},CSV:{...I,...y.pick(A,["allow_quoted_newlines","allow_jagged_rows","quote","skip_leading_rows","preserve_ascii_control_characters","null_marker","field_delimiter","encoding","ignore_unknown_values","compression","max_bad_records","require_hive_partition_filter","hive_partition_uri_prefix"])},DATASTORE_BACKUP:{...I,...y.pick(A,["projection_fields"])},GOOGLE_SHEETS:{...I,...y.pick(A,["max_bad_records","sheet_range"])},JSON:{...I,...y.pick(A,["ignore_unknown_values","compression","max_bad_records","require_hive_partition_filter","hive_partition_uri_prefix","json_extension"])},ORC:{...I,...y.pick(A,["require_hive_partition_filter","hive_partition_uri_prefix","reference_file_schema_uri"])},PARQUET:{...I,...y.pick(A,["require_hive_partition_filter","hive_partition_uri_prefix","reference_file_schema_uri","enable_list_inference","enum_as_string"])},CLOUD_BIGTABLE:{...I,uris:[A.bigtableUri],bigtable_options:A.bigtable_options}}[A.format]||{})}},hydrateViewColumn(e){return{name:e.name,tableName:e.entityName,alias:e.alias,isActivated:e.isActivated}},hydrateView({viewData:e,entityData:a}){let i=a[0];return{name:e.name,tableName:e.tableName,keys:e.keys,materialized:i.materialized,orReplace:i.orReplace,ifNotExist:i.ifNotExist,selectStatement:i.selectStatement,labels:i.labels,description:i.description,expiration:i.expiration,friendlyName:i.businessName,partitioning:i.partitioning,partitioningType:i.partitioningType,timeUnitPartitionKey:i.timeUnitpartitionKey,clusteringKey:i.clusteringKey,rangeOptions:i.rangeOptions,refreshInterval:i.refreshInterval,enableRefresh:i.enableRefresh,maxStaleness:i.maxStaleness,allowNonIncrementalDefinition:i.allowNonIncrementalDefinition}},commentIfDeactivated(e,a,i){return m(e,a,i)},dropDatabase(e){return c(N.dropDatabase,{name:e})},alterDatabase({databaseName:e,friendlyName:a,description:i,projectId:p,defaultExpiration:g,customerEncryptionKey:A,labels:b}){return c(N.alterDatabase,{name:f(p,e),dbOptions:v({friendlyName:a,description:i,defaultExpiration:g,customerEncryptionKey:A,labels:b})})},dropTable(e,a,i){return c(N.dropTable,{name:f(i,a,e)})},alterTableOptions({name:e,dbData:a,description:i,partitioning:p,partitioningFilterRequired:g,expiration:A,tableType:b,customerEncryptionKey:R,labels:I,friendlyName:x}){let $=f(a.projectId,a.databaseName,e),h=b==="External",M=le(l,C)({partitioningFilterRequired:h?!1:g,customerEncryptionKey:R,partitioning:p,friendlyName:x,description:i,expiration:A,labels:I});return c(N.alterTable,{name:$,options:M})},alterColumnOptions(e,a,i){return c(N.alterColumnOptions,{description:Je(i),tableName:B(e),columnName:B(a)})},alterColumnType(e,a){let i=ce({assignTemplates:c,tab:l,templates:N})(y.pick(a,"type","dataTypeMode","jsonSchema"));return c(N.alterColumnType,{columnName:B(a.name),type:i,tableName:B(a.name)})},alterColumnDropNotNull(e,a){return c(N.alterColumnDropNotNull,{columnName:B(a),tableName:B(a)})},addColumn({column:e},a,i){let p=f(i.projectId,i.databaseName,a);return c(N.alterTableAddColumn,{tableName:p,column:e})},dropColumn(e,a,i){let p=f(i.projectId,i.databaseName,a);return c(N.alterTableDropColumn,{tableName:p,columnName:B(e)})},dropView(e,a,i){return c(N.dropView,{name:f(i,a,e)})},alterView(e,a){let i=f(a.projectId,a.databaseName,e.name);return c(N.alterViewOptions,{materialized:e.materialized?"MATERIALIZED ":"",name:i,options:s(e)})}}};
